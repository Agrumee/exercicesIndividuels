<!DOCTYPE html>
<html>

<head></head>

<body></body>

<script js>


    function isValidDate(date) {
        let array = date.split("/")
        let day = parseInt(array[0])
        let month = array[1]
        let year = parseInt(array[2])

        if (year > '999' && year < '9999') {
            if (month == '01' || month == '03' || month == '05' || month == '08' || month == '10' || month == '12') {
                if (day < '01' || day > '31') {
                    return false
                } else {
                    return true
                }
            } else if (month == '03' || month == '06' || month == '07' || month == '09' || month == '11') {
                if (day < '01' || day > '30') {
                    return false
                } else {
                    return true
                }
            } else if (month == '02') {
                if (day < '01' || day > '29') {
                    return false
                } else {
                    return true
                }
            } else if (month < '01' || month > '12') {
                return false
            }
        } else {
            return false
        }
    }

    // console.log(isValidDate("01/9/2023"))
    // console.log(isValidDate("01/03/23"))
    // console.log(isValidDate("01/09/2023"))
    // console.log(isValidDate("32/01/2440"))

    function formateDate(datejs) {
        let dateFormat = (datejs.getDate() + "/" + (datejs.getMonth() + 1) + "/" + datejs.getFullYear())
        if (isValidDate(dateFormat) == true) {
            return dateFormat
        } else {
            dateFormat = (datejs.getDate() + "/" + "0" + (datejs.getMonth() + 1) + "/" + datejs.getFullYear())
            if (isValidDate(dateFormat) == true) {
                return dateFormat
            } else {
                dateFormat = ("0" + datejs.getDate() + "/" + (datejs.getMonth() + 1) + "/" + datejs.getFullYear())
                if (isValidDate(dateFormat) == true) {
                    return dateFormat
                } else {
                    dateFormat = ("0" + datejs.getDate() + "/" + "0" + (datejs.getMonth() + 1) + "/" + datejs.getFullYear())
                    if (isValidDate(dateFormat) == true) {
                        return dateFormat
                    }
                }
            }
        }
        return "date invalide"

    }



        function isPalindrome(date) {
            date = date.replaceAll("/", "")
            if (date[0] == date[7] && date[1] == date[6] && date[2] == date[5] && date[3] == date[4]) {
                return true
            } else {
                return false
            }
        }

        let h = 0
        var oneDay = new Date(2023, 06, 31)
        var today = new Date()
        var yesterday = new Date(today.setDate(today.getDate() - 1))
        // console.log(formateDate(oneDay))

    // console.log(isPalindrome(formateDate(oneDay)))

    function getNextPalindromes(x) {
        if (h == x) {
            return
        }
        let dateTest = (new Date(yesterday.setDate(yesterday.getDate() + 1)))
        yesterday = dateTest
        isPalindrome(formateDate(dateTest))
        if (isPalindrome(formateDate(dateTest)) == true){
            console.log(formateDate(dateTest))
            h++}
        getNextPalindromes(x)
    }

    getNextPalindromes(8)
    console.log(isPalindrome("03/02/2030"))
    console.log(formateDate(new Date(2030, 01, 03)))
    console.log(new Date(2040, 01, 04))
    console.log(new Date(2050, 01, 05))

// pour changer le format jj/MM/AAAA en format date js, je vais créer une variable imbriquée dans new date() : cette variable sera vide 
//mais je vais ensuite y renvoyer mes nombre. Ce qui m'embête, c'est que j'ai besoin de concaténer des nombre sans les additionner. mais en gardant leur valeur numérique.

//ou aloooors : je crée une variable qui va faire evoluer la date en format js. Et une autre variable qui exploite ce format pour le renvoyer
// dans un format analysable par ma fonction palindrome.





    // let h = 0
    // //compte les itérations
    // var today = new Date()
    // //today = (today.getDate() + "/" + "0" + (today.getMonth() + 1) + "/" + today.getFullYear())
    // // console.log(ladate)




    // console.log(formateDate(today))



    // j'ai une fonction qui transforme une date en format js dans un format que ma fonction isPalindrome() doit pouvoir traiter.
    // j'ai besoin d'une fonction qui permette de faire évoluer la date d'un jour en format js pour la transformer puis la traiter.
    // il me faudrait une fonction qui me permette de repasser la date en format js après avoir modifié le format



</script>

</html>